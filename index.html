<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Happy Valentines!</title>
    <link rel="icon" href="icon.png" type="image/png">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <h1>Will you be my Valentine?</h1>
    <div class="img_container">
        <img src="imgmessage/1.png" alt="valentine?" style="width:670px;">
    </div>
    <button class="button_yes" onclick="handleYesClick()">Yes :D</button>
    
    <script>
        function handleYesClick(context) {
            const message = context === 'noFlow' ? "i knew u'd come around :3" : "Yay!!";
            document.body.innerHTML = "<h1>" + message + "</h1>";
            document.body.innerHTML += "<h2>i love you</h2>";
            const img = document.createElement("img");
            img.src = context === 'noFlow' ? "imgmessage/12.png" : "imgmessage/2.png";
            img.alt = "yay!";
            img.style.width = "670px";
            img.style.display = "block";
            img.style.margin = "0 auto";
            img.style.marginTop = "50px";
            document.body.appendChild(img);
        }
    </script>

    <button class="button_no" onclick="handleNoClick()">No...</button>
    <script>
        let clickCount = 0;
        let currentImg = null;
        let currentH1 = null;
        let reachedEnd = false;

        function handleNoClick() {
            // Stop updating if already at the end
            if (reachedEnd) return;
            
            clickCount++;
            
            // Only set up initial UI on first click
            if (clickCount === 1) {
                document.body.innerHTML = "<h1>?</h1>";
                const img = document.createElement("img");
                img.src = "imgmessage/3.png";
                img.alt = "?";
                img.style.width = "45%";
                img.style.display = "block";
                img.style.margin = "0 auto";
                img.style.marginTop = "50px";
                document.body.appendChild(img);
                
                currentImg = img;
                currentH1 = document.querySelector("h1");
                
                // Create a container for buttons
                const buttonContainer = document.createElement("div");
                buttonContainer.style.textAlign = "center";
                buttonContainer.style.marginTop = "30px";

                // Create Yes button
                const yesButton = document.createElement("button");
                yesButton.textContent = "Yes :D";
                yesButton.className = "button_yes";
                yesButton.onclick = function() { handleYesClick('noFlow'); };

                // Create No button
                const noButton = document.createElement("button");
                noButton.textContent = "No...";
                noButton.className = "button_no";
                noButton.onclick = handleNoClick;

                buttonContainer.appendChild(yesButton);
                buttonContainer.appendChild(noButton);
                document.body.appendChild(buttonContainer);
            } else {
                // Change message based on click count
                const messages = [
                    "rlly?",
                    "please??",
                    "u sure???",
                    "ok bit's over",
                    "u're serious?",
                    "too bad",
                    "you have to say yes",
                    "you're trapped here until you do",
                    "hehehehehe",
                ];

                // Change image based on click count
                const imgs = [
                    "4",
                    "5",
                    "6",
                    "7",
                    "8",
                    "9",
                    "10",
                    "11",
                    "12",
                ]
                
                // Check if this is the last message
                if (clickCount - 1 >= messages.length - 1) {
                    reachedEnd = true;
                    currentH1.textContent = messages[messages.length - 1];
                    currentImg.src = "imgmessage/11.png";
                    currentImg.style.width = "45%";
                } else {
                    // Grow image and change message
                    //const currentSize = parseInt(currentImg.style.width);
                    //currentImg.style.width = (currentSize + 50) + "px";
                    currentH1.textContent = messages[clickCount - 1];
                    currentImg.src = "imgmessage/" + imgs[clickCount - 2] + ".png";
                }
            }
        }
    </script>
</body>
</html>
